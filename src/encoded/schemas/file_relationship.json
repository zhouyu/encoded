{
    "title": "Data file relationships",
    "description": "Schema for submitting data file relationships.",
    "id": "/profiles/file_relation.json",
    "$schema": "http://json-schema.org/draft-04/schema#",
    "type": "object",
    "required": [ "award", "lab"],
    "additionalProperties": false,
    "mixinProperties": [
        { "$ref": "mixins.json#/schema_version" },
        { "$ref": "mixins.json#/uuid" }
    ],
    "properties": {
        "schema_version": {
            "default": "1"
        },
        "file": {
            "title": "Data file",
            "comment": "See file.json for a list of available identifiers.",
            "type": "string",
            "linkTo": "file"
        },
        "derived_from": {
            "title": "Generated from",
            "description": "The particular analysis that was run to generate the file.",
            "type":  "object",
            "additionalProperties": false,
            "properties": {
                "analysis_run": {
                    "title": "Analysis run",
                     "comment": "See analysis.json for a list of available identifiers.",
                     "type": "string",
                     "linkTo": "analysis"
                },
                "output_type": {
                    "title": "Ouput Type",
                    "description": "The type the type of output.",
                    "comment": "Corresponds to analysis_run.outputs.parameter",
                    "XXXcomment": "Should this be an enum?",
                    "type": "string"
                }
            }

        },
        "replaced_by": {
            "title": "Superseded by" ,
            "description": "The file that has replaced this file.",
            "comment": "See file.json for a list of available identifiers.",
            "type": "string",
            "linkTo": "file"
        },
        "first_end": {
            "title": "First end",
            "description": "Points to the first end of the read pair.",
            "comment": "See file.json for a list of available identifiers.",
            "type": "string",
            "linkTo": "file"
        },
        "second_end": {
            "title": "Second end",
            "description": "Points to the second end of the read pair.",
            "comment": "See file.json for a list of available identifiers.",
            "type": "string",
            "linkTo": "file"
        }
    }
}
